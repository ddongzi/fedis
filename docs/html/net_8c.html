<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fedis: src/net.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Fedis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">net.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="net_8h_source.html">net.h</a>&quot;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &quot;<a class="el" href="redis_8h_source.html">redis.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rdb_8h_source.html">rdb.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for net.c:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c__incl.png" border="0" usemap="#asrc_2net_8c" alt=""/></div>
<map name="asrc_2net_8c" id="asrc_2net_8c">
<area shape="rect" title=" " alt="" coords="1379,5,1456,32"/>
<area shape="rect" href="net_8h.html" title=" " alt="" coords="747,155,802,181"/>
<area shape="rect" title=" " alt="" coords="1333,80,1408,107"/>
<area shape="rect" href="redis_8h.html" title=" " alt="" coords="1432,80,1499,107"/>
<area shape="rect" href="rdb_8h.html" title=" " alt="" coords="1523,80,1578,107"/>
<area shape="rect" href="ae_8h.html" title=" " alt="" coords="229,229,280,256"/>
<area shape="rect" title=" " alt="" coords="325,304,393,331"/>
<area shape="rect" title=" " alt="" coords="617,304,687,331"/>
<area shape="rect" title=" " alt="" coords="406,229,477,256"/>
<area shape="rect" title=" " alt="" coords="1486,304,1557,331"/>
<area shape="rect" title=" " alt="" coords="1104,304,1171,331"/>
<area shape="rect" title=" " alt="" coords="603,229,699,256"/>
<area shape="rect" title=" " alt="" coords="723,229,826,256"/>
<area shape="rect" title=" " alt="" coords="851,229,947,256"/>
<area shape="rect" title=" " alt="" coords="971,229,1075,256"/>
<area shape="rect" title=" " alt="" coords="1099,229,1162,256"/>
<area shape="rect" title=" " alt="" coords="1187,229,1261,256"/>
<area shape="rect" title=" " alt="" coords="1286,229,1378,256"/>
<area shape="rect" title=" " alt="" coords="5,304,69,331"/>
<area shape="rect" title=" " alt="" coords="93,304,184,331"/>
<area shape="rect" title=" " alt="" coords="209,304,301,331"/>
<area shape="rect" href="db_8h.html" title=" " alt="" coords="1536,155,1587,181"/>
<area shape="rect" href="dict_8h.html" title=" " alt="" coords="1403,229,1461,256"/>
<area shape="rect" href="robj_8h.html" title=" " alt="" coords="1667,229,1725,256"/>
<area shape="rect" href="list_8h.html" title=" " alt="" coords="1717,155,1771,181"/>
<area shape="rect" href="sds_8h.html" title=" " alt="" coords="1587,229,1643,256"/>
<area shape="rect" title=" " alt="" coords="1391,304,1462,331"/>
<area shape="rect" title=" " alt="" coords="1581,304,1656,331"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af34c4f19f793583a0aa70334193573f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#af34c4f19f793583a0aa70334193573f3">printAddrinfo</a> (struct addrinfo *servinfo)</td></tr>
<tr class="separator:af34c4f19f793583a0aa70334193573f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4316a91f1a791c71b6b97c083c609b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#a8a4316a91f1a791c71b6b97c083c609b">anetSetError</a> (char *err, const char *fmt,...)</td></tr>
<tr class="separator:a8a4316a91f1a791c71b6b97c083c609b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af064e4d76c847c05fc82392ab9991f34"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#af064e4d76c847c05fc82392ab9991f34">anetSetReuseAddr</a> (char *err, int fd)</td></tr>
<tr class="memdesc:af064e4d76c847c05fc82392ab9991f34"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置SO_REUSEADDR  <a href="net_8c.html#af064e4d76c847c05fc82392ab9991f34">More...</a><br /></td></tr>
<tr class="separator:af064e4d76c847c05fc82392ab9991f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2637a681b73d89c8b6a7b0ca95afd07c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#a2637a681b73d89c8b6a7b0ca95afd07c">anetTcpServer</a> (char *err, int port, char *bindaddr, int backlog)</td></tr>
<tr class="memdesc:a2637a681b73d89c8b6a7b0ca95afd07c"><td class="mdescLeft">&#160;</td><td class="mdescRight">创建TCP服务器 封装了socket，bind，listen  <a href="net_8c.html#a2637a681b73d89c8b6a7b0ca95afd07c">More...</a><br /></td></tr>
<tr class="separator:a2637a681b73d89c8b6a7b0ca95afd07c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ffab7741e0d2152c02a6af6f3048cae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#a0ffab7741e0d2152c02a6af6f3048cae">anetNonBlock</a> (char *err, int fd)</td></tr>
<tr class="separator:a0ffab7741e0d2152c02a6af6f3048cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61e54b44fb43184ab3ae5ac58ba7f5d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#a61e54b44fb43184ab3ae5ac58ba7f5d1">anetEnableTcpNoDelay</a> (char *err, int fd)</td></tr>
<tr class="separator:a61e54b44fb43184ab3ae5ac58ba7f5d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4595984ff27c62c664b7b0dd801628e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#a4595984ff27c62c664b7b0dd801628e1">anetKeepAlive</a> (char *err, int fd, int interval)</td></tr>
<tr class="memdesc:a4595984ff27c62c664b7b0dd801628e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">保活  <a href="net_8c.html#a4595984ff27c62c664b7b0dd801628e1">More...</a><br /></td></tr>
<tr class="separator:a4595984ff27c62c664b7b0dd801628e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a988b8b0c7f9f9ae97c80193766d2400c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#a988b8b0c7f9f9ae97c80193766d2400c">anetFormatPeer</a> (int fd, char *ip, size_t ip_len, int *port)</td></tr>
<tr class="memdesc:a988b8b0c7f9f9ae97c80193766d2400c"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取对端IP和端口  <a href="net_8c.html#a988b8b0c7f9f9ae97c80193766d2400c">More...</a><br /></td></tr>
<tr class="separator:a988b8b0c7f9f9ae97c80193766d2400c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af551381b05b81b103ee2c9977dd49c34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#af551381b05b81b103ee2c9977dd49c34">acceptTcpHandler</a> (<a class="el" href="structaeEventLoop.html">aeEventLoop</a> *el, int fd, void *data)</td></tr>
<tr class="memdesc:af551381b05b81b103ee2c9977dd49c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">封装accept，接受TCP连接。  <a href="net_8c.html#af551381b05b81b103ee2c9977dd49c34">More...</a><br /></td></tr>
<tr class="separator:af551381b05b81b103ee2c9977dd49c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f1cc1f9e6d67c080bfa3e0b67b0417"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#a94f1cc1f9e6d67c080bfa3e0b67b0417">readQueryFromClient</a> (<a class="el" href="structaeEventLoop.html">aeEventLoop</a> *el, int fd, void *privData)</td></tr>
<tr class="separator:a94f1cc1f9e6d67c080bfa3e0b67b0417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07e21cc348fe7968848b00fe2c75a694"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#a07e21cc348fe7968848b00fe2c75a694">sendReplyToClient</a> (<a class="el" href="structaeEventLoop.html">aeEventLoop</a> *el, int fd, void *privdata)</td></tr>
<tr class="separator:a07e21cc348fe7968848b00fe2c75a694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27a3a1cb818b2dd616f31762ffb33395"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#a27a3a1cb818b2dd616f31762ffb33395">netCleanup</a> ()</td></tr>
<tr class="separator:a27a3a1cb818b2dd616f31762ffb33395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a854d127038b664f3ad6ad21464c64"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#a15a854d127038b664f3ad6ad21464c64">anetTcpConnect</a> (char *err, const char *host, int port)</td></tr>
<tr class="memdesc:a15a854d127038b664f3ad6ad21464c64"><td class="mdescLeft">&#160;</td><td class="mdescRight">作为客户端，连接到Host:port  <a href="net_8c.html#a15a854d127038b664f3ad6ad21464c64">More...</a><br /></td></tr>
<tr class="separator:a15a854d127038b664f3ad6ad21464c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2133ebd4a2431ba8fdbeecb7961fb722"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8c.html#a2133ebd4a2431ba8fdbeecb7961fb722">connectMaster</a> ()</td></tr>
<tr class="memdesc:a2133ebd4a2431ba8fdbeecb7961fb722"><td class="mdescLeft">&#160;</td><td class="mdescRight">收到SLAVEOF命令，开始连接master，切换到CONNECTING  <a href="net_8c.html#a2133ebd4a2431ba8fdbeecb7961fb722">More...</a><br /></td></tr>
<tr class="separator:a2133ebd4a2431ba8fdbeecb7961fb722"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="af551381b05b81b103ee2c9977dd49c34" name="af551381b05b81b103ee2c9977dd49c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af551381b05b81b103ee2c9977dd49c34">&#9670;&nbsp;</a></span>acceptTcpHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void acceptTcpHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaeEventLoop.html">aeEventLoop</a> *&#160;</td>
          <td class="paramname"><em>el</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>封装accept，接受TCP连接。 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">el</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">privData</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_af551381b05b81b103ee2c9977dd49c34_cgraph.png" border="0" usemap="#anet_8c_af551381b05b81b103ee2c9977dd49c34_cgraph" alt=""/></div>
<map name="anet_8c_af551381b05b81b103ee2c9977dd49c34_cgraph" id="anet_8c_af551381b05b81b103ee2c9977dd49c34_cgraph">
<area shape="rect" title="封装accept，接受TCP连接。" alt="" coords="5,397,143,424"/>
<area shape="rect" href="ae_8c.html#a382772b873fa551b64da933a4619f3bb" title="注册文件事件" alt="" coords="425,5,567,32"/>
<area shape="rect" href="net_8c.html#a61e54b44fb43184ab3ae5ac58ba7f5d1" title=" " alt="" coords="191,296,363,323"/>
<area shape="rect" href="net_8c.html#a988b8b0c7f9f9ae97c80193766d2400c" title="获取对端IP和端口" alt="" coords="213,448,340,475"/>
<area shape="rect" href="net_8c.html#a4595984ff27c62c664b7b0dd801628e1" title="保活" alt="" coords="219,347,335,373"/>
<area shape="rect" href="net_8c.html#a0ffab7741e0d2152c02a6af6f3048cae" title=" " alt="" coords="220,397,333,424"/>
<area shape="rect" href="list_8c.html#aa89bc4682e3207f060ffa9f1c28db982" title=" " alt="" coords="215,499,338,525"/>
<area shape="rect" href="list_8c.html#adb40913ad10a1e95c879f226ecdb2ca5" title="创建一个自由node" alt="" coords="217,549,336,576"/>
<area shape="rect" href="net_8c.html#a94f1cc1f9e6d67c080bfa3e0b67b0417" title=" " alt="" coords="196,245,357,272"/>
<area shape="rect" href="redis_8c.html#ad1ecc238e2cc9d387b2d078c916a004d" title=" " alt="" coords="209,600,344,627"/>
<area shape="rect" href="ae_8c.html#ae1918ceab75e9ada567ef48aa2649da7" title="修改/添加 epoll事件" alt="" coords="654,5,775,32"/>
<area shape="rect" href="net_8c.html#a8a4316a91f1a791c71b6b97c083c609b" title=" " alt="" coords="445,372,547,399"/>
<area shape="rect" href="redis_8c.html#a1792fc8a1ef7c60a0989c3476f5f79a5" title="解析协议到 argc, argv[] *3\r &#160;$3\r\nSET\r &#160;$2\r\nk1\r &#160;$2\r\nv1\r" alt="" coords="411,259,581,285"/>
<area shape="rect" href="sds_8c.html#aea43f655605ea1172559ff59c2644923" title=" " alt="" coords="1238,196,1302,223"/>
<area shape="rect" href="net_8c.html#a07e21cc348fe7968848b00fe2c75a694" title=" " alt="" coords="425,321,567,348"/>
<area shape="rect" href="redis_8c.html#a436c94ccf04190185702d3661b628a4e" title="调用执行命令。已有argc,argv[]" alt="" coords="645,183,784,209"/>
<area shape="rect" href="sds_8c.html#a84bb88f61c1790d5dbdf3ee6472a469c" title=" " alt="" coords="1365,259,1429,285"/>
<area shape="rect" href="robj_8c.html#a54d0ebe51c06cdd7727217d7f921dc29" title=" " alt="" coords="629,360,800,387"/>
<area shape="rect" href="sds_8c.html#a85c6874b297e9bc02d926a7aa5be4c09" title="裁剪保留[start, end]" alt="" coords="1229,360,1311,387"/>
<area shape="rect" href="redis_8c.html#a111c8d49d9cee18218fdd1bb950a6d31" title="准备buf，向client写, 后续write类handler处理" alt="" coords="896,107,977,133"/>
<area shape="rect" href="redis_8c.html#a13cf08c227686743aea4bd8d3fafd836" title=" " alt="" coords="871,157,1003,184"/>
<area shape="rect" href="robj_8c.html#a7e70cffb275f2a77f067c9c106d6e017" title="引用计数，调用对应类型释放" alt="" coords="887,208,986,235"/>
<area shape="rect" href="robj_8c.html#a2a81c902fe7a60308da1f60b0675eebe" title=" " alt="" coords="1073,107,1181,133"/>
<area shape="rect" href="sds_8c.html#a1e9a82868f31ebd89c73459da97fae44" title=" " alt="" coords="1359,196,1435,223"/>
<area shape="rect" href="robj_8c.html#a919d89c23dfa5e71bd1435c78cc79b1a" title="创建embedded str 编码的字符串对象" alt="" coords="848,309,1025,336"/>
<area shape="rect" href="robj_8c.html#ab1c70d88824b91c9517d58b0aff7d0cd" title=" " alt="" coords="874,411,999,437"/>
<area shape="rect" href="robj_8c.html#ad9971e82bc1e3e47b0439d12a28b64ac" title=" " alt="" coords="869,461,1005,488"/>
<area shape="rect" href="robj_8c.html#a7eb7efd1c9c154baf0c66de98ec088be" title=" " alt="" coords="897,360,976,387"/>
<area shape="rect" href="sds_8c.html#adc333244a10e3a3809e58aa089ac80d7" title=" " alt="" coords="1094,309,1161,336"/>
<area shape="rect" href="sds_8c.html#aecf67a3fe7eba522737fd9d8fc29aa99" title=" " alt="" coords="1232,512,1308,539"/>
<area shape="rect" href="sds_8c.html#ac5487d7ff301833902bb9a64ce95a3e0" title=" " alt="" coords="1092,461,1163,488"/>
<area shape="rect" href="ae_8c.html#af0d520b4da6ba754f03ef3db5c85a75e" title="删除fd上的mask事件监听" alt="" coords="644,613,785,640"/>
<area shape="rect" href="ae_8c.html#a079045f92dbd1b34f1ed5e3b357389ad" title="更新apiState" alt="" coords="877,613,996,640"/>
<area shape="rect" href="sds_8c.html#ad7b88a16aebd3abe14b725e1c1efc6ec" title=" " alt="" coords="453,600,539,627"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_af551381b05b81b103ee2c9977dd49c34_icgraph.png" border="0" usemap="#anet_8c_af551381b05b81b103ee2c9977dd49c34_icgraph" alt=""/></div>
<map name="anet_8c_af551381b05b81b103ee2c9977dd49c34_icgraph" id="anet_8c_af551381b05b81b103ee2c9977dd49c34_icgraph">
<area shape="rect" title="封装accept，接受TCP连接。" alt="" coords="241,5,379,32"/>
<area shape="rect" href="redis_8c.html#a29060721f5ddfa26790f0778bde74ff2" title=" " alt="" coords="108,5,193,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a61e54b44fb43184ab3ae5ac58ba7f5d1" name="a61e54b44fb43184ab3ae5ac58ba7f5d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61e54b44fb43184ab3ae5ac58ba7f5d1">&#9670;&nbsp;</a></span>anetEnableTcpNoDelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anetEnableTcpNoDelay </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a61e54b44fb43184ab3ae5ac58ba7f5d1_cgraph.png" border="0" usemap="#anet_8c_a61e54b44fb43184ab3ae5ac58ba7f5d1_cgraph" alt=""/></div>
<map name="anet_8c_a61e54b44fb43184ab3ae5ac58ba7f5d1_cgraph" id="anet_8c_a61e54b44fb43184ab3ae5ac58ba7f5d1_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,177,32"/>
<area shape="rect" href="net_8c.html#a8a4316a91f1a791c71b6b97c083c609b" title=" " alt="" coords="225,5,328,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a61e54b44fb43184ab3ae5ac58ba7f5d1_icgraph.png" border="0" usemap="#anet_8c_a61e54b44fb43184ab3ae5ac58ba7f5d1_icgraph" alt=""/></div>
<map name="anet_8c_a61e54b44fb43184ab3ae5ac58ba7f5d1_icgraph" id="anet_8c_a61e54b44fb43184ab3ae5ac58ba7f5d1_icgraph">
<area shape="rect" title=" " alt="" coords="505,31,677,57"/>
<area shape="rect" href="net_8c.html#af551381b05b81b103ee2c9977dd49c34" title="封装accept，接受TCP连接。" alt="" coords="320,5,457,32"/>
<area shape="rect" href="net_8c.html#a2133ebd4a2431ba8fdbeecb7961fb722" title="收到SLAVEOF命令，开始连接master，切换到CONNECTING" alt="" coords="329,56,448,83"/>
<area shape="rect" href="redis_8c.html#a29060721f5ddfa26790f0778bde74ff2" title=" " alt="" coords="147,5,233,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
<area shape="rect" href="redis_8c.html#ac77720e21fa7a267e9c00e35d92a4737" title=" " alt="" coords="108,56,272,83"/>
</map>
</div>

</div>
</div>
<a id="a988b8b0c7f9f9ae97c80193766d2400c" name="a988b8b0c7f9f9ae97c80193766d2400c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a988b8b0c7f9f9ae97c80193766d2400c">&#9670;&nbsp;</a></span>anetFormatPeer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anetFormatPeer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>ip_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取对端IP和端口 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ip</td><td>值参数 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ip_len</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>值参数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a988b8b0c7f9f9ae97c80193766d2400c_icgraph.png" border="0" usemap="#anet_8c_a988b8b0c7f9f9ae97c80193766d2400c_icgraph" alt=""/></div>
<map name="anet_8c_a988b8b0c7f9f9ae97c80193766d2400c_icgraph" id="anet_8c_a988b8b0c7f9f9ae97c80193766d2400c_icgraph">
<area shape="rect" title="获取对端IP和端口" alt="" coords="427,5,553,32"/>
<area shape="rect" href="net_8c.html#af551381b05b81b103ee2c9977dd49c34" title="封装accept，接受TCP连接。" alt="" coords="241,5,379,32"/>
<area shape="rect" href="redis_8c.html#a29060721f5ddfa26790f0778bde74ff2" title=" " alt="" coords="108,5,193,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a4595984ff27c62c664b7b0dd801628e1" name="a4595984ff27c62c664b7b0dd801628e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4595984ff27c62c664b7b0dd801628e1">&#9670;&nbsp;</a></span>anetKeepAlive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anetKeepAlive </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>保活 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">interval</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a4595984ff27c62c664b7b0dd801628e1_cgraph.png" border="0" usemap="#anet_8c_a4595984ff27c62c664b7b0dd801628e1_cgraph" alt=""/></div>
<map name="anet_8c_a4595984ff27c62c664b7b0dd801628e1_cgraph" id="anet_8c_a4595984ff27c62c664b7b0dd801628e1_cgraph">
<area shape="rect" title="保活" alt="" coords="5,5,121,32"/>
<area shape="rect" href="net_8c.html#a8a4316a91f1a791c71b6b97c083c609b" title=" " alt="" coords="169,5,272,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a4595984ff27c62c664b7b0dd801628e1_icgraph.png" border="0" usemap="#anet_8c_a4595984ff27c62c664b7b0dd801628e1_icgraph" alt=""/></div>
<map name="anet_8c_a4595984ff27c62c664b7b0dd801628e1_icgraph" id="anet_8c_a4595984ff27c62c664b7b0dd801628e1_icgraph">
<area shape="rect" title="保活" alt="" coords="427,5,543,32"/>
<area shape="rect" href="net_8c.html#af551381b05b81b103ee2c9977dd49c34" title="封装accept，接受TCP连接。" alt="" coords="241,5,379,32"/>
<area shape="rect" href="redis_8c.html#a29060721f5ddfa26790f0778bde74ff2" title=" " alt="" coords="108,5,193,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a0ffab7741e0d2152c02a6af6f3048cae" name="a0ffab7741e0d2152c02a6af6f3048cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ffab7741e0d2152c02a6af6f3048cae">&#9670;&nbsp;</a></span>anetNonBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anetNonBlock </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a0ffab7741e0d2152c02a6af6f3048cae_cgraph.png" border="0" usemap="#anet_8c_a0ffab7741e0d2152c02a6af6f3048cae_cgraph" alt=""/></div>
<map name="anet_8c_a0ffab7741e0d2152c02a6af6f3048cae_cgraph" id="anet_8c_a0ffab7741e0d2152c02a6af6f3048cae_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,119,32"/>
<area shape="rect" href="net_8c.html#a8a4316a91f1a791c71b6b97c083c609b" title=" " alt="" coords="167,5,269,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a0ffab7741e0d2152c02a6af6f3048cae_icgraph.png" border="0" usemap="#anet_8c_a0ffab7741e0d2152c02a6af6f3048cae_icgraph" alt=""/></div>
<map name="anet_8c_a0ffab7741e0d2152c02a6af6f3048cae_icgraph" id="anet_8c_a0ffab7741e0d2152c02a6af6f3048cae_icgraph">
<area shape="rect" title=" " alt="" coords="505,31,619,57"/>
<area shape="rect" href="net_8c.html#af551381b05b81b103ee2c9977dd49c34" title="封装accept，接受TCP连接。" alt="" coords="320,5,457,32"/>
<area shape="rect" href="net_8c.html#a2133ebd4a2431ba8fdbeecb7961fb722" title="收到SLAVEOF命令，开始连接master，切换到CONNECTING" alt="" coords="329,56,448,83"/>
<area shape="rect" href="redis_8c.html#a29060721f5ddfa26790f0778bde74ff2" title=" " alt="" coords="147,5,233,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
<area shape="rect" href="redis_8c.html#ac77720e21fa7a267e9c00e35d92a4737" title=" " alt="" coords="108,56,272,83"/>
</map>
</div>

</div>
</div>
<a id="a8a4316a91f1a791c71b6b97c083c609b" name="a8a4316a91f1a791c71b6b97c083c609b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4316a91f1a791c71b6b97c083c609b">&#9670;&nbsp;</a></span>anetSetError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anetSetError </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a8a4316a91f1a791c71b6b97c083c609b_icgraph.png" border="0" usemap="#anet_8c_a8a4316a91f1a791c71b6b97c083c609b_icgraph" alt=""/></div>
<map name="anet_8c_a8a4316a91f1a791c71b6b97c083c609b_icgraph" id="anet_8c_a8a4316a91f1a791c71b6b97c083c609b_icgraph">
<area shape="rect" title=" " alt="" coords="725,107,828,133"/>
<area shape="rect" href="net_8c.html#a61e54b44fb43184ab3ae5ac58ba7f5d1" title=" " alt="" coords="505,208,677,235"/>
<area shape="rect" href="net_8c.html#a4595984ff27c62c664b7b0dd801628e1" title="保活" alt="" coords="533,107,649,133"/>
<area shape="rect" href="net_8c.html#a0ffab7741e0d2152c02a6af6f3048cae" title=" " alt="" coords="535,157,648,184"/>
<area shape="rect" href="net_8c.html#af064e4d76c847c05fc82392ab9991f34" title="设置SO_REUSEADDR" alt="" coords="520,5,663,32"/>
<area shape="rect" href="net_8c.html#a2637a681b73d89c8b6a7b0ca95afd07c" title="创建TCP服务器 封装了socket，bind，listen" alt="" coords="331,56,446,83"/>
<area shape="rect" href="net_8c.html#af551381b05b81b103ee2c9977dd49c34" title="封装accept，接受TCP连接。" alt="" coords="320,119,457,145"/>
<area shape="rect" href="net_8c.html#a2133ebd4a2431ba8fdbeecb7961fb722" title="收到SLAVEOF命令，开始连接master，切换到CONNECTING" alt="" coords="329,183,448,209"/>
<area shape="rect" href="redis_8c.html#a29060721f5ddfa26790f0778bde74ff2" title=" " alt="" coords="147,93,233,120"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,93,60,120"/>
<area shape="rect" href="redis_8c.html#ac77720e21fa7a267e9c00e35d92a4737" title=" " alt="" coords="108,183,272,209"/>
</map>
</div>

</div>
</div>
<a id="af064e4d76c847c05fc82392ab9991f34" name="af064e4d76c847c05fc82392ab9991f34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af064e4d76c847c05fc82392ab9991f34">&#9670;&nbsp;</a></span>anetSetReuseAddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anetSetReuseAddr </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置SO_REUSEADDR </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>错误信息 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_af064e4d76c847c05fc82392ab9991f34_cgraph.png" border="0" usemap="#anet_8c_af064e4d76c847c05fc82392ab9991f34_cgraph" alt=""/></div>
<map name="anet_8c_af064e4d76c847c05fc82392ab9991f34_cgraph" id="anet_8c_af064e4d76c847c05fc82392ab9991f34_cgraph">
<area shape="rect" title="设置SO_REUSEADDR" alt="" coords="5,5,148,32"/>
<area shape="rect" href="net_8c.html#a8a4316a91f1a791c71b6b97c083c609b" title=" " alt="" coords="196,5,299,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_af064e4d76c847c05fc82392ab9991f34_icgraph.png" border="0" usemap="#anet_8c_af064e4d76c847c05fc82392ab9991f34_icgraph" alt=""/></div>
<map name="anet_8c_af064e4d76c847c05fc82392ab9991f34_icgraph" id="anet_8c_af064e4d76c847c05fc82392ab9991f34_icgraph">
<area shape="rect" title="设置SO_REUSEADDR" alt="" coords="404,5,547,32"/>
<area shape="rect" href="net_8c.html#a2637a681b73d89c8b6a7b0ca95afd07c" title="创建TCP服务器 封装了socket，bind，listen" alt="" coords="241,5,356,32"/>
<area shape="rect" href="redis_8c.html#a29060721f5ddfa26790f0778bde74ff2" title=" " alt="" coords="108,5,193,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a15a854d127038b664f3ad6ad21464c64" name="a15a854d127038b664f3ad6ad21464c64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15a854d127038b664f3ad6ad21464c64">&#9670;&nbsp;</a></span>anetTcpConnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anetTcpConnect </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>作为客户端，连接到Host:port </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a15a854d127038b664f3ad6ad21464c64_cgraph.png" border="0" usemap="#anet_8c_a15a854d127038b664f3ad6ad21464c64_cgraph" alt=""/></div>
<map name="anet_8c_a15a854d127038b664f3ad6ad21464c64_cgraph" id="anet_8c_a15a854d127038b664f3ad6ad21464c64_cgraph">
<area shape="rect" title="作为客户端，连接到Host:port" alt="" coords="5,5,131,32"/>
<area shape="rect" href="net_8c.html#af34c4f19f793583a0aa70334193573f3" title=" " alt="" coords="179,5,285,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a15a854d127038b664f3ad6ad21464c64_icgraph.png" border="0" usemap="#anet_8c_a15a854d127038b664f3ad6ad21464c64_icgraph" alt=""/></div>
<map name="anet_8c_a15a854d127038b664f3ad6ad21464c64_icgraph" id="anet_8c_a15a854d127038b664f3ad6ad21464c64_icgraph">
<area shape="rect" title="作为客户端，连接到Host:port" alt="" coords="384,5,509,32"/>
<area shape="rect" href="net_8c.html#a2133ebd4a2431ba8fdbeecb7961fb722" title="收到SLAVEOF命令，开始连接master，切换到CONNECTING" alt="" coords="217,5,336,32"/>
<area shape="rect" href="redis_8c.html#ac77720e21fa7a267e9c00e35d92a4737" title=" " alt="" coords="5,5,169,32"/>
</map>
</div>

</div>
</div>
<a id="a2637a681b73d89c8b6a7b0ca95afd07c" name="a2637a681b73d89c8b6a7b0ca95afd07c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2637a681b73d89c8b6a7b0ca95afd07c">&#9670;&nbsp;</a></span>anetTcpServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anetTcpServer </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bindaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>backlog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>创建TCP服务器 封装了socket，bind，listen </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>错误信息 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bindaddr</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 监听fd </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a2637a681b73d89c8b6a7b0ca95afd07c_cgraph.png" border="0" usemap="#anet_8c_a2637a681b73d89c8b6a7b0ca95afd07c_cgraph" alt=""/></div>
<map name="anet_8c_a2637a681b73d89c8b6a7b0ca95afd07c_cgraph" id="anet_8c_a2637a681b73d89c8b6a7b0ca95afd07c_cgraph">
<area shape="rect" title="创建TCP服务器 封装了socket，bind，listen" alt="" coords="5,5,120,32"/>
<area shape="rect" href="net_8c.html#a8a4316a91f1a791c71b6b97c083c609b" title=" " alt="" coords="359,5,461,32"/>
<area shape="rect" href="net_8c.html#af064e4d76c847c05fc82392ab9991f34" title="设置SO_REUSEADDR" alt="" coords="168,31,311,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a2637a681b73d89c8b6a7b0ca95afd07c_icgraph.png" border="0" usemap="#anet_8c_a2637a681b73d89c8b6a7b0ca95afd07c_icgraph" alt=""/></div>
<map name="anet_8c_a2637a681b73d89c8b6a7b0ca95afd07c_icgraph" id="anet_8c_a2637a681b73d89c8b6a7b0ca95afd07c_icgraph">
<area shape="rect" title="创建TCP服务器 封装了socket，bind，listen" alt="" coords="241,5,356,32"/>
<area shape="rect" href="redis_8c.html#a29060721f5ddfa26790f0778bde74ff2" title=" " alt="" coords="108,5,193,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a2133ebd4a2431ba8fdbeecb7961fb722" name="a2133ebd4a2431ba8fdbeecb7961fb722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2133ebd4a2431ba8fdbeecb7961fb722">&#9670;&nbsp;</a></span>connectMaster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void connectMaster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>收到SLAVEOF命令，开始连接master，切换到CONNECTING </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a2133ebd4a2431ba8fdbeecb7961fb722_cgraph.png" border="0" usemap="#anet_8c_a2133ebd4a2431ba8fdbeecb7961fb722_cgraph" alt=""/></div>
<map name="anet_8c_a2133ebd4a2431ba8fdbeecb7961fb722_cgraph" id="anet_8c_a2133ebd4a2431ba8fdbeecb7961fb722_cgraph">
<area shape="rect" title="收到SLAVEOF命令，开始连接master，切换到CONNECTING" alt="" coords="5,107,124,133"/>
<area shape="rect" href="ae_8c.html#a382772b873fa551b64da933a4619f3bb" title="注册文件事件" alt="" coords="187,5,329,32"/>
<area shape="rect" href="net_8c.html#a61e54b44fb43184ab3ae5ac58ba7f5d1" title=" " alt="" coords="172,56,344,83"/>
<area shape="rect" href="net_8c.html#a0ffab7741e0d2152c02a6af6f3048cae" title=" " alt="" coords="201,107,315,133"/>
<area shape="rect" href="net_8c.html#a15a854d127038b664f3ad6ad21464c64" title="作为客户端，连接到Host:port" alt="" coords="195,157,321,184"/>
<area shape="rect" href="redis_8c.html#ad1ecc238e2cc9d387b2d078c916a004d" title=" " alt="" coords="191,208,325,235"/>
<area shape="rect" href="ae_8c.html#ae1918ceab75e9ada567ef48aa2649da7" title="修改/添加 epoll事件" alt="" coords="392,5,513,32"/>
<area shape="rect" href="net_8c.html#a8a4316a91f1a791c71b6b97c083c609b" title=" " alt="" coords="401,81,504,108"/>
<area shape="rect" href="net_8c.html#af34c4f19f793583a0aa70334193573f3" title=" " alt="" coords="399,157,506,184"/>
<area shape="rect" href="sds_8c.html#ad7b88a16aebd3abe14b725e1c1efc6ec" title=" " alt="" coords="409,208,496,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a2133ebd4a2431ba8fdbeecb7961fb722_icgraph.png" border="0" usemap="#anet_8c_a2133ebd4a2431ba8fdbeecb7961fb722_icgraph" alt=""/></div>
<map name="anet_8c_a2133ebd4a2431ba8fdbeecb7961fb722_icgraph" id="anet_8c_a2133ebd4a2431ba8fdbeecb7961fb722_icgraph">
<area shape="rect" title="收到SLAVEOF命令，开始连接master，切换到CONNECTING" alt="" coords="217,5,336,32"/>
<area shape="rect" href="redis_8c.html#ac77720e21fa7a267e9c00e35d92a4737" title=" " alt="" coords="5,5,169,32"/>
</map>
</div>

</div>
</div>
<a id="a27a3a1cb818b2dd616f31762ffb33395" name="a27a3a1cb818b2dd616f31762ffb33395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27a3a1cb818b2dd616f31762ffb33395">&#9670;&nbsp;</a></span>netCleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void netCleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af34c4f19f793583a0aa70334193573f3" name="af34c4f19f793583a0aa70334193573f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af34c4f19f793583a0aa70334193573f3">&#9670;&nbsp;</a></span>printAddrinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printAddrinfo </td>
          <td>(</td>
          <td class="paramtype">struct addrinfo *&#160;</td>
          <td class="paramname"><em>servinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_af34c4f19f793583a0aa70334193573f3_icgraph.png" border="0" usemap="#anet_8c_af34c4f19f793583a0aa70334193573f3_icgraph" alt=""/></div>
<map name="anet_8c_af34c4f19f793583a0aa70334193573f3_icgraph" id="anet_8c_af34c4f19f793583a0aa70334193573f3_icgraph">
<area shape="rect" title=" " alt="" coords="557,5,664,32"/>
<area shape="rect" href="net_8c.html#a15a854d127038b664f3ad6ad21464c64" title="作为客户端，连接到Host:port" alt="" coords="384,5,509,32"/>
<area shape="rect" href="net_8c.html#a2133ebd4a2431ba8fdbeecb7961fb722" title="收到SLAVEOF命令，开始连接master，切换到CONNECTING" alt="" coords="217,5,336,32"/>
<area shape="rect" href="redis_8c.html#ac77720e21fa7a267e9c00e35d92a4737" title=" " alt="" coords="5,5,169,32"/>
</map>
</div>

</div>
</div>
<a id="a94f1cc1f9e6d67c080bfa3e0b67b0417" name="a94f1cc1f9e6d67c080bfa3e0b67b0417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f1cc1f9e6d67c080bfa3e0b67b0417">&#9670;&nbsp;</a></span>readQueryFromClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void readQueryFromClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaeEventLoop.html">aeEventLoop</a> *&#160;</td>
          <td class="paramname"><em>el</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>privData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a94f1cc1f9e6d67c080bfa3e0b67b0417_cgraph.png" border="0" usemap="#anet_8c_a94f1cc1f9e6d67c080bfa3e0b67b0417_cgraph" alt=""/></div>
<map name="anet_8c_a94f1cc1f9e6d67c080bfa3e0b67b0417_cgraph" id="anet_8c_a94f1cc1f9e6d67c080bfa3e0b67b0417_cgraph">
<area shape="rect" title=" " alt="" coords="5,157,167,184"/>
<area shape="rect" href="ae_8c.html#a382772b873fa551b64da933a4619f3bb" title="注册文件事件" alt="" coords="229,5,371,32"/>
<area shape="rect" href="redis_8c.html#a1792fc8a1ef7c60a0989c3476f5f79a5" title="解析协议到 argc, argv[] *3\r &#160;$3\r\nSET\r &#160;$2\r\nk1\r &#160;$2\r\nv1\r" alt="" coords="215,259,385,285"/>
<area shape="rect" href="sds_8c.html#aea43f655605ea1172559ff59c2644923" title=" " alt="" coords="1042,196,1106,223"/>
<area shape="rect" href="net_8c.html#a07e21cc348fe7968848b00fe2c75a694" title=" " alt="" coords="229,563,371,589"/>
<area shape="rect" href="ae_8c.html#ae1918ceab75e9ada567ef48aa2649da7" title="修改/添加 epoll事件" alt="" coords="458,5,579,32"/>
<area shape="rect" href="redis_8c.html#a436c94ccf04190185702d3661b628a4e" title="调用执行命令。已有argc,argv[]" alt="" coords="449,183,588,209"/>
<area shape="rect" href="sds_8c.html#a84bb88f61c1790d5dbdf3ee6472a469c" title=" " alt="" coords="1169,259,1233,285"/>
<area shape="rect" href="robj_8c.html#a54d0ebe51c06cdd7727217d7f921dc29" title=" " alt="" coords="433,360,604,387"/>
<area shape="rect" href="sds_8c.html#a85c6874b297e9bc02d926a7aa5be4c09" title="裁剪保留[start, end]" alt="" coords="1033,360,1115,387"/>
<area shape="rect" href="redis_8c.html#a111c8d49d9cee18218fdd1bb950a6d31" title="准备buf，向client写, 后续write类handler处理" alt="" coords="700,107,781,133"/>
<area shape="rect" href="redis_8c.html#a13cf08c227686743aea4bd8d3fafd836" title=" " alt="" coords="675,157,807,184"/>
<area shape="rect" href="robj_8c.html#a7e70cffb275f2a77f067c9c106d6e017" title="引用计数，调用对应类型释放" alt="" coords="691,208,790,235"/>
<area shape="rect" href="robj_8c.html#a2a81c902fe7a60308da1f60b0675eebe" title=" " alt="" coords="877,107,985,133"/>
<area shape="rect" href="sds_8c.html#a1e9a82868f31ebd89c73459da97fae44" title=" " alt="" coords="1163,196,1239,223"/>
<area shape="rect" href="robj_8c.html#a919d89c23dfa5e71bd1435c78cc79b1a" title="创建embedded str 编码的字符串对象" alt="" coords="652,309,829,336"/>
<area shape="rect" href="robj_8c.html#ab1c70d88824b91c9517d58b0aff7d0cd" title=" " alt="" coords="678,411,803,437"/>
<area shape="rect" href="robj_8c.html#ad9971e82bc1e3e47b0439d12a28b64ac" title=" " alt="" coords="673,461,809,488"/>
<area shape="rect" href="robj_8c.html#a7eb7efd1c9c154baf0c66de98ec088be" title=" " alt="" coords="701,360,780,387"/>
<area shape="rect" href="sds_8c.html#adc333244a10e3a3809e58aa089ac80d7" title=" " alt="" coords="898,309,965,336"/>
<area shape="rect" href="sds_8c.html#aecf67a3fe7eba522737fd9d8fc29aa99" title=" " alt="" coords="1036,512,1112,539"/>
<area shape="rect" href="sds_8c.html#ac5487d7ff301833902bb9a64ce95a3e0" title=" " alt="" coords="896,461,967,488"/>
<area shape="rect" href="ae_8c.html#af0d520b4da6ba754f03ef3db5c85a75e" title="删除fd上的mask事件监听" alt="" coords="448,613,589,640"/>
<area shape="rect" href="ae_8c.html#a079045f92dbd1b34f1ed5e3b357389ad" title="更新apiState" alt="" coords="681,613,800,640"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a94f1cc1f9e6d67c080bfa3e0b67b0417_icgraph.png" border="0" usemap="#anet_8c_a94f1cc1f9e6d67c080bfa3e0b67b0417_icgraph" alt=""/></div>
<map name="anet_8c_a94f1cc1f9e6d67c080bfa3e0b67b0417_icgraph" id="anet_8c_a94f1cc1f9e6d67c080bfa3e0b67b0417_icgraph">
<area shape="rect" title=" " alt="" coords="427,5,588,32"/>
<area shape="rect" href="net_8c.html#af551381b05b81b103ee2c9977dd49c34" title="封装accept，接受TCP连接。" alt="" coords="241,5,379,32"/>
<area shape="rect" href="redis_8c.html#a29060721f5ddfa26790f0778bde74ff2" title=" " alt="" coords="108,5,193,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a07e21cc348fe7968848b00fe2c75a694" name="a07e21cc348fe7968848b00fe2c75a694"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07e21cc348fe7968848b00fe2c75a694">&#9670;&nbsp;</a></span>sendReplyToClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendReplyToClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaeEventLoop.html">aeEventLoop</a> *&#160;</td>
          <td class="paramname"><em>el</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>privdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a07e21cc348fe7968848b00fe2c75a694_cgraph.png" border="0" usemap="#anet_8c_a07e21cc348fe7968848b00fe2c75a694_cgraph" alt=""/></div>
<map name="anet_8c_a07e21cc348fe7968848b00fe2c75a694_cgraph" id="anet_8c_a07e21cc348fe7968848b00fe2c75a694_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,148,57"/>
<area shape="rect" href="ae_8c.html#af0d520b4da6ba754f03ef3db5c85a75e" title="删除fd上的mask事件监听" alt="" coords="196,5,337,32"/>
<area shape="rect" href="sds_8c.html#aecf67a3fe7eba522737fd9d8fc29aa99" title=" " alt="" coords="229,56,305,83"/>
<area shape="rect" href="ae_8c.html#a079045f92dbd1b34f1ed5e3b357389ad" title="更新apiState" alt="" coords="385,5,504,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8c_a07e21cc348fe7968848b00fe2c75a694_icgraph.png" border="0" usemap="#anet_8c_a07e21cc348fe7968848b00fe2c75a694_icgraph" alt=""/></div>
<map name="anet_8c_a07e21cc348fe7968848b00fe2c75a694_icgraph" id="anet_8c_a07e21cc348fe7968848b00fe2c75a694_icgraph">
<area shape="rect" title=" " alt="" coords="636,5,779,32"/>
<area shape="rect" href="net_8c.html#a94f1cc1f9e6d67c080bfa3e0b67b0417" title=" " alt="" coords="427,5,588,32"/>
<area shape="rect" href="net_8c.html#af551381b05b81b103ee2c9977dd49c34" title="封装accept，接受TCP连接。" alt="" coords="241,5,379,32"/>
<area shape="rect" href="redis_8c.html#a29060721f5ddfa26790f0778bde74ff2" title=" " alt="" coords="108,5,193,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
